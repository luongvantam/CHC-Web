<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dá»‹ch Hex Sang Token</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <header>
        <h1>Casio Hacking Community</h1>
        <span class="menu-toggle">â˜° Menu</span>
    </header>
    <main>
        <nav class="menu">
            <ul>
                <li><a href="index.html">Trang Chá»§</a></li>
                <li><a href="documents.html">TÃ i Liá»‡u</a></li>
                <li><a href="tools.html">CÃ´ng Cá»¥ Há»— trá»£</a></li>
            </ul>
        </nav>
        <div class="overlay"></div>
        <div class="content" style="margin-left: 5%;">
        <label for="hexInput">Nháº­p hex:</label><br>
        <input type="text" id="hexInput" placeholder="Nháº­p hex táº¡i Ä‘Ã¢y" onkeydown="h2t(document.getElementById('tableSelect').value);h2c(document.getElementById('tableSelect').value)">
        <select id="tableSelect">
            <option value="fx580vnx">Báº£ng fx580vnx</option>
            <option value="fx880btg">Báº£ng fx880btg</option>
        </select>
        <button onclick="h2t(document.getElementById('tableSelect').value);h2c(document.getElementById('tableSelect').value)">Dá»‹ch</button>
        <hr>
        <div class="text-box" style="text-align: left;">
            <label>Káº¿t Quáº£ Token:</label>
            <textarea id="OutputToken" readonly style="white-space: pre-wrap; margin-top: 10px; text-align: left; height: 100px;"></textarea>
            <label>Káº¿t Quáº£ Char:</label>
            <textarea id="OutputChar" readonly style="white-space: pre-wrap; margin-top: 10px; text-align: left; height: 100px;"></textarea>
        </div>
        <hr>
        </div>
    </main>
    <script>
        function TableTokenfx580vnx() {
            const table = [
                ["<00>", "<01>", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@"],
                ["@", "@", "@", "@", "@", "@", "@", "@", "@", "â–¯", "@", "@", "@", "@", "@", "@"],
                ["ğ’Š", "e", "ğœ‹", ":", "$", "?", "@", "@", "@", "@", "@", "@", ",", "x10", ".", "@"],
                ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "ğ—”", "ğ—•", "ğ—–", "ğ——", "ğ—˜", "ğ—™"],
                ["M","Ans","A","B","C","D","E","F","ğ’™","ğ’š","PreAns","ğ’›","ğœƒ","@","@","@"],
                ["âˆ‘(","âˆ«(","d/dğ’™(","âˆ(","@","@","@","@","Min(","Max(","Mean(Sum(","@","@","@","@"],
                ["(","P(","Q(","R(","Not(","Neg(","Conjg(","Arg(","Abs(","Rnd(","Det(","Trn(","sinh(","cosh(","tanh(","sinhâ»Â¹("],
                ["coshâ»Â¹(", "tanhâ»Â¹(", "e^(", "10^(", "âˆš(", "ln(", "Â³âˆš(", "sin(", "cos(", "tan(", "sinâ»Â¹(", "cosâ»Â¹(", "tanâ»Â¹(", "log(", "Pol(", "Rec("],
                ["@","@","@","Int(","Intg(","Ref(","Rref(","RanInt#(","GCD(","LCM(","RndFix(","@","@","@","@","ReP("],
                ["ImP(", "Identity(", "UnitV(", "Angle(", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@"],
                ["or", "xor", "xnor", "and", "@", "=", "+", "âˆ’", "Ã—", "Ã·", "Ã·R", "â‹…", "âˆ ", "ğ—£", "ğ—–", "@"],
                ["@", "@", "@", "@", "@", "@", "@", "@", "î‚‹", "î‚Œ", "î‚‹â‚", "î‚‹â‚‚", "@", "@", "@", "@"],
                ["-<Ã¢m>", "b", "o", "d", "h", "@", "@", "@", "âŒŸ", "^(", "xâˆš(", "@", "@", "@", "@", "@"],
                [")", "â–¸t", "â–¸a+bğ’Š", "â–¸râˆ ğœƒ", "â»Â¹", "Â²", "Â³", "%", "!", "Â°", "Ê³", "áµ", "â–«", "ğ„", "ğ", "ğ“"],
                ["ğ†", "ğŒ", "ğ¤", "ğ¦", "ğ", "ğ§", "ğ©", "ğŸ", "@", "â–¸Simp ", "@", "@", "@", "@", "@", "@"],
                ["<F0>", "<F1>", "<F2>", "<F3>", "<F4>", "<F5>", "<F6>", "<F7>", "<F8>", "<F9>", "<FA>", "<FB>", "<FC>", "<FD>", "<FE>", "<FF>"],
            ];
            return CreateMappingToken(table);
        }

        function TableTokenfx880btg() {
            const table = [
                ["<00>", "<01>", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@"],
                ["@", "@", "@", "@", "@", "@", "@", "@", "@", "â–¯", "@", "@", "@", "@", "@", "@"],
                ["ğ’Š", "e", "ğœ‹", ":", "$", "?", "@", "@", "@", "@", "@", "@", ",", "x10", ".", "@"],
                ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "ğ—”", "ğ—•", "ğ—–", "ğ——", "ğ—˜", "ğ—™"],
                ["Ans","A","B","C","D","E","F","ğ’™","ğ’š","ğ’›","PreAns","ğœƒ","@","@","@","@"],
                ["âˆ‘(","âˆ«(","d/dğ’™(","âˆ(","@","@","@","@","Min(","Max(","Mean(Sum(","@","@","@","@"],
                ["(","P(","Q(","R(","Not(","Neg(","Conjg(","Arg(","Abs(","Rnd(","Det(","Trn(","sinh(","cosh(","tanh(","sinhâ»Â¹("],
                ["coshâ»Â¹(", "tanhâ»Â¹(", "e^(", "10^(", "âˆš(", "ln(", "Â³âˆš(", "sin(", "cos(", "tan(", "sinâ»Â¹(", "cosâ»Â¹(", "tanâ»Â¹(", "log(", "Pol(", "Rec("],
                ["@","@","@","Int(","Intg(","Ref(","Rref(","RanInt#(","GCD(","LCM(","RndFix(","@","@","@","@","ReP("],
                ["ImP(", "Identity(", "UnitV(", "Angle(", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@", "@"],
                ["or", "xor", "xnor", "and", "@", "=", "+", "âˆ’", "Ã—", "Ã·", "Ã·R", "â‹…", "âˆ ", "ğ—£", "ğ—–", "@"],
                ["@", "@", "@", "@", "@", "@", "@", "@", "î‚‹", "î‚Œ", "î‚‹â‚", "î‚‹â‚‚", "@", "@", "@", "@"],
                ["-<Ã¢m>", "b", "o", "d", "h", "@", "@", "@", "âŒŸ", "^(", "xâˆš(", "@", "@", "@", "@", "@"],
                [")", "â–¸t", "â–¸a+bğ’Š", "â–¸râˆ ğœƒ", "â»Â¹", "Â²", "Â³", "%", "!", "Â°", "Ê³", "áµ", "â–«", "ğ„", "ğ", "ğ“"],
                ["ğ†", "ğŒ", "ğ¤", "ğ¦", "ğ", "ğ§", "ğ©", "ğŸ", "@", "â–¸Simp ", "@", "@", "@", "îƒ­", "îƒ®", "îƒ¯"],
                ["<F0>", "<F1>", "<F2>", "<F3>", "<F4>", "<F5>", "<F6>", "<F7>", "<F8>", "<F9>", "<FA>", "<FB>", "<FC>", "<FD>", "<FE>", "<FF>"],
            ];
            return CreateMappingToken(table);
        }

        function TableCharfx580vnx() {
            const table = [
                ["ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½"],
                ["ğ’™","ğ’š","ğ’›","â€¦","â–²","â–¼","â–¸","â‚‹","$","â—","&","ğ‘¡","á´›","â‚œ","â‚•","â‚…"],
                [" ","!",'"',"#","Ã—","%","Ã·","'","(",")","â‹…","+",",","-",".","/"],
                ["0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?"],
                ["@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],
                ["P","Q","R","S","T","U","V","W","X","Y","Z","[","â–«","]","^","_"],
                ["âˆ’","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"],
                ["p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","â”œ"],
                ["ğ’Š","ğ’†","î‚‚","î‚ƒ","î‚„","Â°","Ê³","áµ","âˆ ","î‚‰","î‚Š","î‚‹","î‚Œ","â†’","âˆ","â‡’"],
                ["î‚","î‚‘","î‚’","âŒŸ","â‰¤","â‰ ","â‰¥","î‚—","âˆš","âˆ«","á´€","Ê™","á´„","â‚™","â–¶","â—€"],
                ["â°","Â¹","Â²","Â³","â´","âµ","â¶","â·","â¸","â¹","î‚ª","î‚«","î‚¬","â‚","â‚","î‚¯"],
                ["â‚€","â‚","â‚‚","î‚³","êœ°","É´","á´˜","î‚·","ğ—”","ğ—•","ğ—–","ğ——","ğ—˜","ğ—™","ğ—£","â–·"],
                ["âˆ‘","ğ›¼","ğ›¾","ğœ€","ğœƒ","ğœ†","ğœ‡","ğœ‹","ğœ","ğœ™","â„“","â„","â–®","â–¯","â‚ƒ","ï¼¿"],
                ["ğŸ","ğ©","ğ§","ğ","ğ¦","ğ¤","ğŒ","ğ†","ğ“","ğ","ğ„","ğ¹","â‚š","â‚‘","á´Š","á´‹"],
                ["îƒ ","îƒ¡","â‚‰","â„«","â‚˜","Éª","â‚„","îƒ§","îƒ¨","âˆŸ","âŸ²","â†»","â¿"],
                ["ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½"],
            ];
            return CreateMappingChar(table);
        }

        function TableCharfx880btg() {
            const table = [
                ["ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½"],
                ["ğ’™","ğ’š","ğ’›","â€¦","â–²","â–¼","â–¸","â‚‹","$","â—","&","ğ‘¡","á´›","â‚œ","â‚•","â‚…"],
                [" ","!",'"',"#","Ã—","%","Ã·","'","(",")","â‹…","+",",","-",".","/"],
                ["0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?"],
                ["@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O"],
                ["P","Q","R","S","T","U","V","W","X","Y","Z","[","â–«","]","^","_"],
                ["âˆ’","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o"],
                ["p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","â”œ"],
                ["ğ’Š","ğ’†","î‚‚","î‚ƒ","î‚„","Â°","Ê³","áµ","âˆ ","î‚‰","î‚Š","î‚‹","î‚Œ","â†’","âˆ","â‡’"],
                ["î‚","î‚‘","î‚’","âŒŸ","â‰¤","â‰ ","â‰¥","î‚—","âˆš","âˆ«","á´€","Ê™","á´„","â‚™","â–¶","â—€"],
                ["â°","Â¹","Â²","Â³","â´","âµ","â¶","â·","â¸","â¹","î‚ª","î‚«","î‚¬","â‚","â‚","î‚¯"],
                ["â‚€","â‚","â‚‚","î‚³","êœ°","É´","á´˜","î‚·","ğ—”","ğ—•","ğ—–","ğ——","ğ—˜","ğ—™","ğ—£","â–·"],
                ["âˆ‘","ğ›¼","ğ›¾","ğœ€","ğœƒ","ğœ†","ğœ‡","ğœ‹","ğœ","ğœ™","â„“","â„","â–®","â–¯","â‚ƒ","ï¼¿"],
                ["ğŸ","ğ©","ğ§","ğ","ğ¦","ğ¤","ğŒ","ğ†","ğ“","ğ","ğ„","ğ¹","â‚š","â‚‘","á´Š","á´‹"],
                ["îƒ ","îƒ¡","â‚‰","â„«","â‚˜","Éª","â‚„"," "," ","âˆŸ","âŸ²","â†»","â¿"],
                ["ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½", "ï¿½"],
            ];
            return CreateMappingChar(table);
        }

        function CreateMappingToken(table) {
            const mapping = {};

            for (let row = 0; row < table.length; row++) {
                for (let col = 0; col < table[row].length; col++) {
                    const value = table[row][col];
                    const key = (row * 16 + col).toString(16).padStart(2, '0').toUpperCase();
                    mapping[key] = (value === '@' || value === '(') ? `<${key}>` : value;
                }
            }

            return mapping;
        }

        function CreateMappingChar(table) {
            const mapping = {};

            for (let row = 0; row < table.length; row++) {
                for (let col = 0; col < table[row].length; col++) {
                    const value = table[row][col];
                    const key = (row * 16 + col).toString(16).padStart(2, '0').toUpperCase();
                    mapping[key] = value;
                }
            }

            return mapping;
        }

        function h2t(tableType = 'fx580vnx') {
            const input = document.getElementById('hexInput').value.replace(/[^0-9a-fA-F]/g, '').toUpperCase();
            const mapping = tableType === 'fx880btg' ? TableTokenfx880btg() : TableTokenfx580vnx();
            const result = [];

            for (let i = 0; i < input.length;) {
                let code = input.slice(i, i + 2);
                const key = code.toUpperCase();

                if (code[0] === 'F' && i + 4 <= input.length) {
                    const extended = input.slice(i, i + 4).toUpperCase();
                    result.push(`<${extended}>`);
                    i += 4;
                } else {
                    if (mapping[key]) {
                        result.push(mapping[key]);
                    }
                    i += 2;
                }
            }

            document.getElementById('OutputToken').textContent = result.join(' ');

            const outputBox = document.getElementById('OutputToken');
            if (tableType === 'fx880btg') {
                outputBox.style.fontFamily = 'CASIO-EY-Display-Font';
            } else {
                outputBox.style.fontFamily = 'CASIO-CY-Display-Font';
            }
        }

        function h2c(tableType = 'fx580vnx') {
            const input = document.getElementById('hexInput').value.replace(/[^0-9a-fA-F]/g, '').toUpperCase();
            const mapping = tableType === 'fx880btg' ? TableCharfx880btg() : TableCharfx580vnx();
            const result = [];

            for (let i = 0; i < input.length;) {
                let code = input.slice(i, i + 2);
                const key = code.toUpperCase();

                if (code[0] === 'F' && i + 4 <= input.length) {
                    const extended = input.slice(i, i + 4).toUpperCase();
                    result.push(`<${extended}>`);
                    i += 4;
                } else {
                    if (mapping[key]) {
                        result.push(mapping[key]);
                    }
                    i += 2;
                }
            }

            document.getElementById('OutputChar').textContent = result.join(' ');

            const outputBox = document.getElementById('OutputChar');
            if (tableType === 'fx880btg') {
                outputBox.style.fontFamily = 'CASIO-EY-Display-Font';
            } else {
                outputBox.style.fontFamily = 'CASIO-CY-Display-Font';
            }
        }
    </script>
    <script src="assets/js/script.js"></script>
</body>
</html>